{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACqC;AAEsC;AAY5C;AAC8B;AAAA;AAE7D,MAAMmB,UAAU,GAAG,CAClB;EAAEC,GAAG,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAQ,CAAC,EAClC;EAAED,GAAG,EAAE,OAAO;EAAEC,KAAK,EAAE;AAAM,CAAC,EAC9B;EAAED,GAAG,EAAE,UAAU;EAAEC,KAAK,EAAE;AAAS,CAAC,EACpC;EAAED,GAAG,EAAE,aAAa;EAAEC,KAAK,EAAE;AAAa,CAAC,EAC3C;EAAED,GAAG,EAAE,gBAAgB;EAAEC,KAAK,EAAE;AAAgB,CAAC,EACjD;EAAED,GAAG,EAAE,mBAAmB;EAAEC,KAAK,EAAE;AAAmB,CAAC,EACvD;EACCD,GAAG,EAAE,wBAAwB;EAC7BC,KAAK,EAAE;AACR,CAAC,EACD;EAAED,GAAG,EAAE,sBAAsB;EAAEC,KAAK,EAAE;AAAU,CAAC,EACjD;EAAED,GAAG,EAAE,WAAW;EAAEC,KAAK,EAAE;AAAU,CAAC,EACtC;EAAED,GAAG,EAAE,WAAW;EAAEC,KAAK,EAAE;AAAY,CAAC,EACxC;EAAED,GAAG,EAAE,YAAY;EAAEC,KAAK,EAAE;AAAY,CAAC,EACzC;EAAED,GAAG,EAAE,WAAW;EAAEC,KAAK,EAAE;AAAW,CAAC,CACvC;AAEc,SAASC,IAAIA,CAAC;EAAEC,UAAU;EAAEC;AAAc,CAAC,EAAE;EAC3D,MAAMC,UAAU,GAAGvB,sEAAa,CAAC,CAAC;EAClC,MAAM;IACLwB,OAAO;IACPC,aAAa,GAAG,EAAE;IAClBC,cAAc;IACdC,WAAW;IACXC;EACD,CAAC,GAAGP,UAAU;;EAEd;EACA,MAAMQ,aAAa,GAAGA,CAAA,KAAM;IAC3B,MAAMC,IAAI,GAAG,CAAC,GAAGL,aAAa,EAAE;MAAEM,KAAK,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IACxDV,aAAa,CAAC;MAAEG,aAAa,EAAEK;IAAK,CAAC,CAAC;EACvC,CAAC;EAED,MAAMG,gBAAgB,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAK;IACjD,MAAMN,IAAI,GAAGL,aAAa,CAACY,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;MAC3C,IAAIA,CAAC,KAAKL,KAAK,EAAE;QAChB,OAAOI,IAAI;MACZ;MACA,OAAO;QAAE,GAAGA,IAAI;QAAE,CAACH,KAAK,GAAGC;MAAM,CAAC;IACnC,CAAC,CAAC;IACFd,aAAa,CAAC;MAAEG,aAAa,EAAEK;IAAK,CAAC,CAAC;EACvC,CAAC;EAED,MAAMU,gBAAgB,GAAIN,KAAK,IAAK;IACnC,MAAMJ,IAAI,GAAGL,aAAa,CAACgB,MAAM,CAAC,CAACC,CAAC,EAAEH,CAAC,KAAKA,CAAC,KAAKL,KAAK,CAAC;IACxDZ,aAAa,CAAC;MAAEG,aAAa,EAAEK;IAAK,CAAC,CAAC;EACvC,CAAC;;EAED;EACA,MAAMa,SAAS,GAAGA,CAAA,KAAM;IACvBrB,aAAa,CAAC;MACbI,cAAc,EAAE,CAAC,GAAGA,cAAc,EAAE,EAAE;IACvC,CAAC,CAAC;EACH,CAAC;EAED,MAAMkB,YAAY,GAAGA,CAACV,KAAK,EAAEE,KAAK,KAAK;IACtC,MAAMS,OAAO,GAAG,CAAC,GAAGnB,cAAc,CAAC;IACnCmB,OAAO,CAACX,KAAK,CAAC,GAAGE,KAAK;IACtBd,aAAa,CAAC;MAAEI,cAAc,EAAEmB;IAAQ,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMC,YAAY,GAAIZ,KAAK,IAAK;IAC/BZ,aAAa,CAAC;MACbI,cAAc,EAAEA,cAAc,CAACe,MAAM,CAAC,CAACC,CAAC,EAAEH,CAAC,KAAKA,CAAC,KAAKL,KAAK;IAC5D,CAAC,CAAC;EACH,CAAC;;EAED;EACA,MAAMa,WAAW,GAAI7B,GAAG,IAAK;IAC5B,MAAM8B,SAAS,GAAGpB,eAAe,CAACqB,QAAQ,CAAC/B,GAAG,CAAC,GAC5CU,eAAe,CAACa,MAAM,CAAES,CAAC,IAAKA,CAAC,KAAKhC,GAAG,CAAC,GACxC,CAAC,GAAGU,eAAe,EAAEV,GAAG,CAAC;IAE5BI,aAAa,CAAC;MAAEM,eAAe,EAAEoB;IAAU,CAAC,CAAC;EAC9C,CAAC;EAED,oBACClC,uDAAA,CAAAE,uDAAA;IAAAmC,QAAA,gBAECrC,uDAAA,CAACf,sEAAiB;MAAAoD,QAAA,gBACjBvC,sDAAA,CAACX,4DAAS;QACTmD,KAAK,EAAEtD,mDAAE,CAAC,UAAU,EAAE,aAAa,CAAE;QACrCuD,WAAW,EAAE,IAAK;QAAAF,QAAA,eAElBvC,sDAAA,CAACT,8DAAW;UACXmD,uBAAuB;UACvBC,qBAAqB;UACrBpC,KAAK,EAAErB,mDAAE,CAAC,OAAO,EAAE,aAAa,CAAE;UAClCsC,KAAK,EAAEZ,OAAO,IAAI,EAAG;UACrBgC,QAAQ,EAAGpB,KAAK,IAAKd,aAAa,CAAC;YAAEE,OAAO,EAAEY;UAAM,CAAC;QAAE,CACvD;MAAC,CACQ,CAAC,eACZxB,sDAAA,CAACX,4DAAS;QACTmD,KAAK,EAAEtD,mDAAE,CAAC,mBAAmB,EAAE,aAAa,CAAE;QAC9CuD,WAAW,EAAE,KAAM;QAAAF,QAAA,EAElBlC,UAAU,CAACoB,GAAG,CAAEF,KAAK,iBACrBvB,sDAAA,CAACV,kEAAe;UACfoD,uBAAuB;UAEvBnC,KAAK,EAAEgB,KAAK,CAAChB,KAAM;UACnBsC,OAAO,EAAE7B,eAAe,CAACqB,QAAQ,CAACd,KAAK,CAACjB,GAAG,CAAE;UAC7CsC,QAAQ,EAAEA,CAAA,KAAMT,WAAW,CAACZ,KAAK,CAACjB,GAAG;QAAE,GAHlCiB,KAAK,CAACjB,GAIX,CACD;MAAC,CACQ,CAAC,eACZJ,uDAAA,CAACb,4DAAS;QACTmD,KAAK,EAAEtD,mDAAE,CAAC,cAAc,EAAE,aAAa,CAAE;QACzCuD,WAAW,EAAE,KAAM;QAAAF,QAAA,GAElB1B,aAAa,CAACiC,MAAM,KAAK,CAAC,iBAC1B9C,sDAAA;UAAG+C,KAAK,EAAE;YAAEC,SAAS,EAAE,QAAQ;YAAEC,OAAO,EAAE;UAAI,CAAE;UAAAV,QAAA,EAC9CrD,mDAAE,CAAC,6BAA6B,EAAE,aAAa;QAAC,CAC/C,CACH,EAEA2B,aAAa,CAACY,GAAG,CAAC,CAACyB,GAAG,EAAE5B,KAAK,kBAC7BpB,uDAAA,CAACT,uDAAI;UAAasD,KAAK,EAAE;YAAEI,YAAY,EAAE;UAAM,CAAE;UAAAZ,QAAA,gBAChDvC,sDAAA,CAACN,4DAAS;YAAA6C,QAAA,eACTvC,sDAAA,CAACT,8DAAW;cACXmD,uBAAuB;cACvBC,qBAAqB;cACrBS,WAAW,EAAC,OAAO;cACnB5B,KAAK,EAAE0B,GAAG,CAAC/B,KAAK,IAAI,EAAG;cACvByB,QAAQ,EAAGS,CAAC,IACXhC,gBAAgB,CAACC,KAAK,EAAE,OAAO,EAAE+B,CAAC;YAClC,CACD;UAAC,CACQ,CAAC,eAEZrD,sDAAA,CAACN,4DAAS;YAAA6C,QAAA,eACTvC,sDAAA,CAACT,8DAAW;cACXmD,uBAAuB;cACvBC,qBAAqB;cACrBS,WAAW,EAAC,KAAK;cACjB5B,KAAK,EAAE0B,GAAG,CAAC9B,IAAI,IAAI,EAAG;cACtBwB,QAAQ,EAAGS,CAAC,IACXhC,gBAAgB,CAACC,KAAK,EAAE,MAAM,EAAE+B,CAAC;YACjC,CACD;UAAC,CACQ,CAAC,eAEZrD,sDAAA,CAACL,2DAAQ;YAAA4C,QAAA,eACRvC,sDAAA,CAACJ,yDAAM;cACN+C,qBAAqB;cACrBW,IAAI,EAAC,QAAQ;cACb/C,KAAK,EAAC,QAAQ;cACdgD,aAAa;cACbC,OAAO,EAAC,WAAW;cACnBC,IAAI,EAAC,SAAS;cACdC,OAAO,EAAEA,CAAA,KAAM9B,gBAAgB,CAACN,KAAK;YAAE,CACvC;UAAC,CACO,CAAC;QAAA,GAnCDA,KAoCL,CACN,CAAC,eAEFpB,uDAAA,CAACN,yDAAM;UACN+C,qBAAqB;UACrBa,OAAO,EAAC,SAAS;UACjBE,OAAO,EAAEzC,aAAc;UAAAsB,QAAA,gBAEvBvC,sDAAA,CAACH,uDAAI;YAACyD,IAAI,EAAC;UAAM,CAAE,CAAC,EAAC,GAAG,EACvBpE,mDAAE,CAAC,iBAAiB,EAAE,aAAa,CAAC;QAAA,CAC9B,CAAC;MAAA,CACC,CAAC,eACZgB,uDAAA,CAACb,4DAAS;QACTmD,KAAK,EAAEtD,mDAAE,CAAC,yBAAyB,EAAE,aAAa,CAAE;QACpDuD,WAAW,EAAE,KAAM;QAAAF,QAAA,GAElBzB,cAAc,CAACgC,MAAM,KAAK,CAAC,iBAC3B9C,sDAAA;UAAG+C,KAAK,EAAE;YAAEC,SAAS,EAAE,QAAQ;YAAEC,OAAO,EAAE;UAAI,CAAE;UAAAV,QAAA,EAC9CrD,mDAAE,CAAC,qBAAqB,EAAE,aAAa;QAAC,CACvC,CACH,EACA4B,cAAc,CAACW,GAAG,CAAC,CAACkC,EAAE,EAAErC,KAAK,kBAC7BpB,uDAAA,CAACT,uDAAI;UAAasD,KAAK,EAAE;YAAEI,YAAY,EAAE;UAAM,CAAE;UAAAZ,QAAA,gBAChDvC,sDAAA,CAACN,4DAAS;YAAA6C,QAAA,eACTvC,sDAAA,CAACT,8DAAW;cACXmD,uBAAuB;cACvBC,qBAAqB;cACrBnB,KAAK,EAAEmC,EAAG;cACVP,WAAW,EAAC,cAAc;cAC1BR,QAAQ,EAAGpB,KAAK,IACfQ,YAAY,CAACV,KAAK,EAAEE,KAAK;YACzB,CACD;UAAC,CACQ,CAAC,eACZxB,sDAAA,CAACL,2DAAQ;YAAA4C,QAAA,eACRvC,sDAAA,CAACJ,yDAAM;cACN+C,qBAAqB;cACrBW,IAAI,EAAC,QAAQ;cACb/C,KAAK,EAAC,QAAQ;cACdgD,aAAa;cACbC,OAAO,EAAC,WAAW;cACnBC,IAAI,EAAC,SAAS;cACdC,OAAO,EAAEA,CAAA,KAAMxB,YAAY,CAACZ,KAAK;YAAE,CACnC;UAAC,CACO,CAAC;QAAA,GAtBDA,KAuBL,CACN,CAAC,eAEFpB,uDAAA,CAACN,yDAAM;UACN+C,qBAAqB;UACrBa,OAAO,EAAC,SAAS;UACjBE,OAAO,EAAE3B,SAAU;UAAAQ,QAAA,gBAEnBvC,sDAAA,CAACH,uDAAI;YAACyD,IAAI,EAAC;UAAM,CAAE,CAAC,KAAC,EAACpE,mDAAE,CAAC,YAAY,EAAE,aAAa,CAAC;QAAA,CAC9C,CAAC;MAAA,CACC,CAAC,eACZc,sDAAA,CAACX,4DAAS;QAACmD,KAAK,EAAC,mBAAmB;QAACC,WAAW,EAAE,KAAM;QAAAF,QAAA,eACvDvC,sDAAA,CAACR,kEAAe;UACfe,KAAK,EAAC,YAAY;UAClBqD,IAAI,EAAE1E,mDAAE,CACP,gFAAgF,EAChF,aACD,CAAE;UACFsC,KAAK,EAAET,WAAY;UACnB6B,QAAQ,EAAGpB,KAAK,IACfd,aAAa,CAAC;YAAEK,WAAW,EAAES;UAAM,CAAC,CACpC;UACDqC,IAAI,EAAE;QAAE,CACR;MAAC,CACQ,CAAC;IAAA,CACM,CAAC,eAEpB3D,uDAAA;MAAA,GAASS,UAAU;MAAA4B,QAAA,gBAClBvC,sDAAA,SAAK,CAAC,oEAEN,eAAAA,sDAAA,SAAK,CAAC,eACNA,sDAAA,CAACF,sEAAgB;QAChBgE,KAAK,EAAC,uBAAuB;QAC7BrD,UAAU,EAAEA;MAAW,CACvB,CAAC;IAAA,CACE,CAAC;EAAA,CACL,CAAC;AAEL,C;;;;;;;;;;;ACnQA;;;;;;;;;;;;;;;;;;;;ACAsB;AACC;AAE+B;AAE5B;AACU;;AAEpC;AACA;AACA;AACA;AAHA;AAIA,MAAMwD,OAAO,gBACZjE,sDAAA;EACCkE,KAAK,EAAC,IAAI;EACVC,MAAM,EAAC,IAAI;EACXC,OAAO,EAAC,KAAK;EACbC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC,4BAA4B;EAAA/B,QAAA,eAElCrC,uDAAA;IAAAqC,QAAA,gBACCvC,sDAAA;MACCuE,CAAC,EAAC,0OAA0O;MAC5OC,IAAI,EAAC;IAAS,CACd,CAAC,eACFxE,sDAAA;MACCuE,CAAC,EAAC,mZAAmZ;MACrZC,IAAI,EAAC;IAAS,CACd,CAAC,eACFxE,sDAAA;MACCuE,CAAC,EAAC,mRAAmR;MACrRC,IAAI,EAAC;IAAS,CACd,CAAC,eACFxE,sDAAA;MACCuE,CAAC,EAAC,qIAAqI;MACvIC,IAAI,EAAC;IAAS,CACd,CAAC,eACFxE,sDAAA;MACCuE,CAAC,EAAC,kRAAkR;MACpRC,IAAI,EAAC;IAAS,CACd,CAAC,eACFxE,sDAAA;MACCuE,CAAC,EAAC,oWAAoW;MACtWC,IAAI,EAAC;IAAS,CACd,CAAC,eACFxE,sDAAA;MACCuE,CAAC,EAAC,2OAA2O;MAC7OC,IAAI,EAAC;IAAS,CACd,CAAC;EAAA,CACA;AAAC,CACA,CACL;;AAED;AACA;AACA;AACA;AACA;AACAT,oEAAiB,CAACC,6CAAa,EAAE;EAChCV,IAAI,EAAEW,OAAO;EACbS,IAAI,EAAElE,6CAAI;EACVmE,IAAIA,CAAA,EAAG;IACN,OAAO,IAAI;EACZ;AACD,CAAC,CAAC,C;;;;;;;;;;;AChEF;;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,kD;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,4G;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://hal-publications-block/./src/edit.js","webpack://hal-publications-block/./src/editor.scss?0339","webpack://hal-publications-block/./src/index.js","webpack://hal-publications-block/./src/style.scss?75bd","webpack://hal-publications-block/external window [\"wp\",\"blockEditor\"]","webpack://hal-publications-block/external window [\"wp\",\"blocks\"]","webpack://hal-publications-block/external window [\"wp\",\"components\"]","webpack://hal-publications-block/external window [\"wp\",\"i18n\"]","webpack://hal-publications-block/external window [\"wp\",\"serverSideRender\"]","webpack://hal-publications-block/external window \"ReactJSXRuntime\"","webpack://hal-publications-block/webpack/bootstrap","webpack://hal-publications-block/webpack/runtime/chunk loaded","webpack://hal-publications-block/webpack/runtime/compat get default export","webpack://hal-publications-block/webpack/runtime/define property getters","webpack://hal-publications-block/webpack/runtime/hasOwnProperty shorthand","webpack://hal-publications-block/webpack/runtime/make namespace object","webpack://hal-publications-block/webpack/runtime/jsonp chunk loading","webpack://hal-publications-block/webpack/before-startup","webpack://hal-publications-block/webpack/startup","webpack://hal-publications-block/webpack/after-startup"],"sourcesContent":["/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\n\nimport {\n\tPanelBody,\n\tCheckboxControl,\n\tTextControl,\n\tTextareaControl,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\tButton,\n\tIcon,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nconst ALL_FIELDS = [\n\t{ key: 'title_s', label: 'Title' },\n\t{ key: 'uri_s', label: 'URL' },\n\t{ key: 'source_s', label: 'Source' },\n\t{ key: 'bookTitle_s', label: 'Book Title' },\n\t{ key: 'journalTitle_s', label: 'Journal Title' },\n\t{ key: 'conferenceTitle_s', label: 'Conference Title' },\n\t{\n\t\tkey: 'authorityInstitution_s',\n\t\tlabel: 'Institution (for thesis and report)',\n\t},\n\t{ key: 'authFullNameIdHal_fs', label: 'Authors' },\n\t{ key: 'comment_s', label: 'Comment' },\n\t{ key: 'thumbId_i', label: 'Thumbnail' },\n\t{ key: 'fileMain_s', label: 'Main File' },\n\t{ key: 'seeAlso_s', label: 'See Also' },\n];\n\nexport default function Edit({ attributes, setAttributes }) {\n\tconst blockProps = useBlockProps();\n\tconst {\n\t\thhQuery,\n\t\thhAuthorPages = [],\n\t\thhHalIdsToSkip,\n\t\thhCustomCss,\n\t\thhEnabledFields,\n\t} = attributes;\n\n\t// --- author pages ----------------------------------------------------\n\tconst addAuthorPage = () => {\n\t\tconst next = [...hhAuthorPages, { idHal: '', page: '' }];\n\t\tsetAttributes({ hhAuthorPages: next });\n\t};\n\n\tconst updateAuthorPage = (index, field, value) => {\n\t\tconst next = hhAuthorPages.map((item, i) => {\n\t\t\tif (i !== index) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn { ...item, [field]: value };\n\t\t});\n\t\tsetAttributes({ hhAuthorPages: next });\n\t};\n\n\tconst removeAuthorPage = (index) => {\n\t\tconst next = hhAuthorPages.filter((_, i) => i !== index);\n\t\tsetAttributes({ hhAuthorPages: next });\n\t};\n\n\t// --- HalIds to skip --------------------------------------------------\n\tconst addSkipId = () => {\n\t\tsetAttributes({\n\t\t\thhHalIdsToSkip: [...hhHalIdsToSkip, ''],\n\t\t});\n\t};\n\n\tconst updateSkipId = (index, value) => {\n\t\tconst updated = [...hhHalIdsToSkip];\n\t\tupdated[index] = value;\n\t\tsetAttributes({ hhHalIdsToSkip: updated });\n\t};\n\n\tconst removeSkipId = (index) => {\n\t\tsetAttributes({\n\t\t\thhHalIdsToSkip: hhHalIdsToSkip.filter((_, i) => i !== index),\n\t\t});\n\t};\n\n\t// --- enables fields --------------------------------------------------\n\tconst toggleField = (key) => {\n\t\tconst newFields = hhEnabledFields.includes(key)\n\t\t\t? hhEnabledFields.filter((f) => f !== key)\n\t\t\t: [...hhEnabledFields, key];\n\n\t\tsetAttributes({ hhEnabledFields: newFields });\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{/* --- editor controls ----------------------------*/}\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__('Settings', 'harvest-hal')}\n\t\t\t\t\tinitialOpen={true}\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={__('Query', 'harvest-hal')}\n\t\t\t\t\t\tvalue={hhQuery || ''}\n\t\t\t\t\t\tonChange={(value) => setAttributes({ hhQuery: value })}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__('Fields to Display', 'harvest-hal')}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t{ALL_FIELDS.map((field) => (\n\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tkey={field.key}\n\t\t\t\t\t\t\tlabel={field.label}\n\t\t\t\t\t\t\tchecked={hhEnabledFields.includes(field.key)}\n\t\t\t\t\t\t\tonChange={() => toggleField(field.key)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__('Author Pages', 'harvest-hal')}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t{hhAuthorPages.length === 0 && (\n\t\t\t\t\t\t<p style={{ fontStyle: 'italic', opacity: 0.7 }}>\n\t\t\t\t\t\t\t{__('No author page entries yet.', 'harvest-hal')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{hhAuthorPages.map((row, index) => (\n\t\t\t\t\t\t<Flex key={index} style={{ marginBottom: '8px' }}>\n\t\t\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tplaceholder=\"idHal\"\n\t\t\t\t\t\t\t\t\tvalue={row.idHal || ''}\n\t\t\t\t\t\t\t\t\tonChange={(v) =>\n\t\t\t\t\t\t\t\t\t\tupdateAuthorPage(index, 'idHal', v)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexBlock>\n\n\t\t\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tplaceholder=\"URL\"\n\t\t\t\t\t\t\t\t\tvalue={row.page || ''}\n\t\t\t\t\t\t\t\t\tonChange={(v) =>\n\t\t\t\t\t\t\t\t\t\tupdateAuthorPage(index, 'page', v)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexBlock>\n\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\t\t\tlabel=\"Remove\"\n\t\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\tonClick={() => removeAuthorPage(index)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t))}\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={addAuthorPage}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon=\"plus\" />{' '}\n\t\t\t\t\t\t{__('Add Author Page', 'harvest-hal')}\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__('Filter (remove) HAL Ids', 'harvest-hal')}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t{hhHalIdsToSkip.length === 0 && (\n\t\t\t\t\t\t<p style={{ fontStyle: 'italic', opacity: 0.7 }}>\n\t\t\t\t\t\t\t{__('No HAL IDs to skip.', 'harvest-hal')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t{hhHalIdsToSkip.map((id, index) => (\n\t\t\t\t\t\t<Flex key={index} style={{ marginBottom: '8px' }}>\n\t\t\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t\tplaceholder=\"hal-01234567\"\n\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\tupdateSkipId(index, value)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\t\t\tlabel=\"Remove\"\n\t\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\tonClick={() => removeSkipId(index)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t))}\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={addSkipId}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon=\"plus\" /> {__('Add HAL ID', 'harvest-hal')}\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title=\"CSS customization\" initialOpen={false}>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel=\"Custom CSS\"\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t'Target elements inside the block, for example: .authors { font-weight: bold; }',\n\t\t\t\t\t\t\t'harvest-hal'\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tvalue={hhCustomCss}\n\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\tsetAttributes({ hhCustomCss: value })\n\t\t\t\t\t\t}\n\t\t\t\t\t\trows={6}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{/* - block display ------------------------------*/}\n\t\t\t<div {...blockProps}>\n\t\t\t\t<hr /> Publication list preview (with [HAL id], not shown on\n\t\t\t\tfrontend)\n\t\t\t\t<hr />\n\t\t\t\t<ServerSideRender\n\t\t\t\t\tblock=\"dlyr/hal-publications\"\n\t\t\t\t\tattributes={attributes}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","import './style.scss';\nimport './editor.scss';\n\nimport { registerBlockType } from '@wordpress/blocks';\n\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Define a custom SVG icon for the block. This icon will appear in\n * the Inserter and when the user selects the block in the Editor.\n */\nconst halIcon = (\n\t<svg\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 24 24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<g>\n\t\t\t<path\n\t\t\t\td=\"m18.458 5.6577c0.4432 0.4432 1.0282 0.6914 1.6576 0.6914h0.0089c0.54071 0 1.046-0.17728 1.4626-0.51412-0.85095-1.3207-1.9678-2.4642-3.2708-3.3329-0.3457 0.41661-0.54071 0.93959-0.54071 1.4892 0 0.63821 0.23933 1.2232 0.68253 1.6664z\"\n\t\t\t\tfill=\"#ff4600\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"m17.767 6.4112c-1.2942-1.2853-2.0033-2.9961-1.9944-4.8043 0-0.1241 0.0089-0.24819 0.0089-0.36343-0.76231-0.26592-1.5601-0.46093-2.3844-0.55844-0.03546 0.30138-0.04432 0.61162-0.04432 0.913-0.0089 2.4642 0.95732 4.7777 2.7124 6.524 1.8171 1.8083 4.2104 2.7124 6.6037 2.7124 0.2216 0 0.4432-0.0089 0.66481-0.02659-0.088677-0.82436-0.2571-1.631-0.51415-2.3933-1.8349 0.04432-3.6697-0.62935-5.0525-2.0033z\"\n\t\t\t\tfill=\"#cd3c1b\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"m15.364 8.8665c-2.3401-2.3313-4.042-5.1146-5.0082-8.1638-0.8155 0.11523-1.5955 0.31911-2.349 0.59389 1.0726 3.457 2.9961 6.6392 5.6464 9.2807 2.5972 2.5883 5.6819 4.4143 8.9616 5.4957 0.28365-0.74458 0.50525-1.5246 0.62935-2.3401-2.8808-0.96618-5.5932-2.5883-7.8802-4.8664z\"\n\t\t\t\tfill=\"#a53232\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"m20.869 19.131-15.955-16.071c-0.62935 0.50525-1.2144 1.0726-1.7285 1.693l15.973 16.088c0.62935-0.50525 1.2055-1.0814 1.7108-1.7108z\"\n\t\t\t\tfill=\"#7d2d46\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"m1.3149 7.9979c-0.28365 0.75345-0.48752 1.5335-0.60276 2.349 2.9606 0.96619 5.7439 2.606 8.084 4.9373 2.2869 2.2781 3.9622 4.9993 4.9462 7.9599 0.8155-0.1241 1.5955-0.33684 2.3401-0.62935-1.0903-3.3772-2.9783-6.4708-5.5755-9.0502-2.6592-2.6415-5.8237-4.4941-9.1921-5.5666z\"\n\t\t\t\tfill=\"#64286e\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"m8.1048 16.029c-2.021-2.0121-4.76-2.9074-7.4192-2.677 0.097505 0.82436 0.28365 1.6221 0.54957 2.3844 1.8615-0.07091 3.7495 0.59389 5.1678 2.0033 1.2942 1.2853 2.0033 2.9961 1.9944 4.8043 0 0.07978 0 0.16842-0.00886 0.24819 0.76231 0.25706 1.5601 0.43434 2.3933 0.52298 0.01773-0.24819 0.03546-0.50525 0.03546-0.76231 0-2.4554-0.95732-4.7777-2.7124-6.524z\"\n\t\t\t\tfill=\"#411489\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"m5.7115 18.493c-0.4432-0.4432-1.0282-0.6914-1.6576-0.6914h-0.00886c-0.55844 0-1.0814 0.19501-1.5069 0.54957 0.87754 1.303 2.021 2.411 3.3506 3.2531 0.32797-0.40775 0.50525-0.913 0.50525-1.4448 0-0.62935-0.24819-1.2144-0.68253-1.6664z\"\n\t\t\t\tfill=\"#171775\"\n\t\t\t/>\n\t\t</g>\n\t</svg>\n);\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nregisterBlockType(metadata.name, {\n\ticon: halIcon,\n\tedit: Edit,\n\tsave() {\n\t\treturn null;\n\t},\n});\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"serverSideRender\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkhal_publications_block\"] = globalThis[\"webpackChunkhal_publications_block\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","InspectorControls","useBlockProps","PanelBody","CheckboxControl","TextControl","TextareaControl","Flex","FlexBlock","FlexItem","Button","Icon","ServerSideRender","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ALL_FIELDS","key","label","Edit","attributes","setAttributes","blockProps","hhQuery","hhAuthorPages","hhHalIdsToSkip","hhCustomCss","hhEnabledFields","addAuthorPage","next","idHal","page","updateAuthorPage","index","field","value","map","item","i","removeAuthorPage","filter","_","addSkipId","updateSkipId","updated","removeSkipId","toggleField","newFields","includes","f","children","title","initialOpen","__nextHasNoMarginBottom","__next40pxDefaultSize","onChange","checked","length","style","fontStyle","opacity","row","marginBottom","placeholder","v","icon","isDestructive","variant","size","onClick","id","help","rows","block","registerBlockType","metadata","halIcon","width","height","version","viewBox","xmlns","d","fill","name","edit","save"],"ignoreList":[],"sourceRoot":""}